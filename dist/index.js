!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.SorobanSimulator=e():t.SorobanSimulator=e()}(window,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(i,a,function(e){return t[e]}.bind(null,a));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="./",n(n.s=0)}([function(t,e,n){n(1),t.exports=n(2)},function(t,e,n){t.exports=n.p+"style.css"},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}n.r(e);var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.debug=e.debug||!1,this.columns=e.columns||1,this.btnTextResult=e.btnTextResult||"Send Result",this.textLoading=e.textLoading||"Loading...",this.btnTextStart=e.btnTextStart||"Start",this.btnTextNext=e.btnTextNext||"Next start",this.el=void 0,this.wrapper=void 0,this.btnStart=void 0,this.btnStartNext=void 0,this.zones=[]}var e,n,a;return e=t,(n=[{key:"__log",value:function(t){this.debug&&console.log(t)}},{key:"destroy",value:function(){this.el=void 0,this.wrapper=void 0,this.items=void 0,this.zones=[],this.btnStart=void 0,this.btnStartNext=void 0}},{key:"build",value:function(t,e,n){var i=this;this.destroy();var a=t.length;this.columns=a>1?this.columns:1,this.el=e,this.wrapper=document.createElement("div"),this.wrapper.className="soroban-simulator__wrapper",this.items=document.createElement("div"),this.items.className="soroban-simulator__items",this.wrapper.appendChild(this.items),"next"===n?(this.btnStartNext=document.createElement("button"),this.btnStartNext.className="soroban-simulator__start-next",this.btnStartNext.innerText=this.btnTextNext,this.wrapper.appendChild(this.btnStartNext),this.btnStartNext.onclick=function(t){t.preventDefault(),i.__start(),i.btnStartNext.style.display="none"}):(this.btnStart=document.createElement("button"),this.btnStart.className="soroban-simulator__start",this.btnStart.innerText=this.btnTextStart,this.wrapper.appendChild(this.btnStart),this.btnStart.onclick=function(t){t.preventDefault(),i.__start(),i.btnStart.style.display="none"}),this.el.innerHTML="",this.el.appendChild(this.wrapper);for(var s=0;s<a;s++){var o=document.createElement("div");o.className="soroban-simulator__item",o.innerHTML="<div></div>";var r=o.getElementsByTagName("div")[0];o.style.justifyContent="center",o.style.alignItems="center",o.style.position="relative",o.style.width=100/this.columns+"%",r.style.display="inline-block",r.style.position="relative","random-position"===t[s].type?(o.style.display="block",o.style.textAlign="left"):o.style.display="flex",this.items.appendChild(o),this.zones.push({el:o,data:t[s]})}}},{key:"__start",value:function(){var t=this;this.el.dispatchEvent(new CustomEvent("startTraining")),this.__showingNumber().then(function(e){t.el.dispatchEvent(new CustomEvent("endTraining"))})}},{key:"__showingNumber",value:function(){for(var t=this.zones.length,e=0;e<t;e++){var n=this.zones[e].data.example.length;this.__change(this.zones[e],n,0)}}},{key:"__change",value:function(t,e,n){var i=this;return new Promise(function(a){var s=i,o=t.el.getElementsByTagName("div")[0];if(n<e){switch(o.innerText=t.data.example[n],t.data.type){case"random-position":i.__setRandomPosition(o)}setTimeout(function(){n++,s.__change(t,e,n),a()},t.data.speed)}else{o.innerHTML='<input type="number" value=""/><button>'.concat(s.btnTextResult,"</button>"),o.parentElement.style.display="flex",o.style.top="auto",o.style.left="auto";var r=o.getElementsByTagName("button")[0],l=o.getElementsByTagName("input")[0];r.onclick=function(e){isNaN(parseInt(l.value))?e.preventDefault():i.__sendResult(t,l.value)}}})}},{key:"__setRandomPosition",value:function(t){var e=t.parentElement.clientWidth,n=t.parentElement.clientHeight,i=e-t.clientWidth,a=n-t.clientHeight,s=this.__getRandomInt(0,i),o=this.__getRandomInt(0,a);t.style.top=o+"px",t.style.left=s+"px"}},{key:"__getRandomInt",value:function(t,e){return Math.floor(Math.random()*(e-t))+t}},{key:"__sendResult",value:function(t,e){t.el.innerHTML='<div class="soroban-simulator__loading">'.concat(this.textLoading,"</div>");var n=new CustomEvent("sendResult",{detail:{zone:t,value:e},bubbles:!0,cancelable:!1});this.el.dispatchEvent(n)}},{key:"arraySum",value:function(t){return parseInt(t.reduce(function(t,e){return parseInt(t)+parseInt(e)}))}},{key:"showResult",value:function(t,e){t.zone.el.innerHTML='<div class="soroban-simulator__status soroban-simulator__status--'.concat(e,'">').concat(t.value,"</div>")}}])&&i(e.prototype,n),a&&i(e,a),t}();e.default=a}]).default});
//# sourceMappingURL=index.js.map