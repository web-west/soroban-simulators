{"version":3,"sources":["webpack://SorobanSimulator/webpack/universalModuleDefinition","webpack://SorobanSimulator/webpack/bootstrap","webpack://SorobanSimulator/./src/sass/style.sass","webpack://SorobanSimulator/./src/SorobanSimulator.js","webpack://SorobanSimulator/./src/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","SorobanSimulator","config","_classCallCheck","this","debug","columns","btnTextResult","textLoading","btnTextStart","btnTextNext","el","undefined","wrapper","btnStart","btnStartNext","zones","data","console","log","items","type","_this2","destroy","len","length","document","createElement","className","appendChild","innerText","onclick","event","preventDefault","__start","style","display","innerHTML","item","div","getElementsByTagName","justifyContent","alignItems","position","width","textAlign","push","_this3","dispatchEvent","CustomEvent","__showingNumber","then","res","numLen","example","__change","zone","iteration","_this4","Promise","_this","textEl","__setRandomPosition","setTimeout","speed","concat","parentElement","top","left","btn","input","e","isNaN","parseInt","__sendResult","parentWidth","clientWidth","parentHeight","clientHeight","maxLeft","maxTop","__getRandomInt","min","max","Math","floor","random","detail","bubbles","cancelable","array","reduce","accumulator","currentValue","status","defaultExport"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SorobanSimulator\"] = factory();\n\telse\n\t\troot[\"SorobanSimulator\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","module.exports = __webpack_public_path__ + \"style.css\";","export class SorobanSimulator {\n    constructor(config) {\n        this.debug = config.debug || false;\n        this.columns = config.columns || 1;\n        this.btnTextResult = config.btnTextResult || 'Send Result';\n        this.textLoading = config.textLoading || 'Loading...';\n        this.btnTextStart = config.btnTextStart || 'Start';\n        this.btnTextNext = config.btnTextNext || 'Next start';\n        this.el = undefined;\n        this.wrapper = undefined;\n        this.btnStart = undefined;\n        this.btnStartNext = undefined;\n        this.zones = [];\n    }\n    /**\n     * Method for debuging\n     * @param data\n     */\n    __log(data) {\n        if (this.debug || null) {\n            console.log(data);\n        }\n    }\n    /**\n     * Destroy\n     */\n    destroy() {\n        this.el = undefined;\n        this.wrapper = undefined;\n        this.items = undefined;\n        this.zones = [];\n        this.btnStart = undefined;\n        this.btnStartNext = undefined;\n    }\n    /**\n     * Building\n     * @param el\n     */\n    build(zones, el, type) {\n        this.destroy();\n        let len = zones.length;\n        this.columns = len > 1 ? this.columns : 1;\n        this.el = el;\n        this.wrapper = document.createElement('div');\n        this.wrapper.className = 'soroban-simulator__wrapper';\n        this.items = document.createElement('div');\n        this.items.className = 'soroban-simulator__items';\n        this.wrapper.appendChild(this.items);\n        if (type === 'next') {\n            this.btnStartNext = document.createElement('button');\n            this.btnStartNext.className = 'soroban-simulator__start-next';\n            this.btnStartNext.innerText = this.btnTextNext;\n            this.wrapper.appendChild(this.btnStartNext);\n            this.btnStartNext.onclick = (event) => {\n                event.preventDefault();\n                this.__start();\n                this.btnStartNext.style.display = 'none';\n            };\n        }\n        else {\n            this.btnStart = document.createElement('button');\n            this.btnStart.className = 'soroban-simulator__start';\n            this.btnStart.innerText = this.btnTextStart;\n            this.wrapper.appendChild(this.btnStart);\n            this.btnStart.onclick = (event) => {\n                event.preventDefault();\n                this.__start();\n                this.btnStart.style.display = 'none';\n            };\n        }\n        this.el.innerHTML = '';\n        this.el.appendChild(this.wrapper);\n        for (let i = 0; i < len; i++) {\n            let item = document.createElement('div');\n            item.className = `soroban-simulator__item`;\n            item.innerHTML = '<div></div>';\n            let div = item.getElementsByTagName('div')[0];\n            item.style.justifyContent = 'center';\n            item.style.alignItems = 'center';\n            item.style.position = 'relative';\n            item.style.width = (100 / this.columns) + '%';\n            div.style.display = 'inline-block';\n            div.style.position = 'relative';\n            if (zones[i].type === 'random-position') {\n                item.style.display = 'block';\n                item.style.textAlign = 'left';\n            }\n            else {\n                item.style.display = 'flex';\n            }\n            this.items.appendChild(item);\n            this.zones.push({\n                el: item,\n                data: zones[i]\n            });\n        }\n    }\n    /**\n     * Starting training\n     */\n    __start() {\n        this.el.dispatchEvent(new CustomEvent(\"startTraining\"));\n        this.__showingNumber().then((res) => {\n            this.el.dispatchEvent(new CustomEvent(\"endTraining\"));\n        });\n    }\n    /**\n     * Showing number\n     */\n    __showingNumber() {\n        let len = this.zones.length;\n        for (let i = 0; i < len; i++) {\n            let numLen = this.zones[i].data.example.length;\n            let iteration = 0;\n            this.__change(this.zones[i], numLen, iteration);\n        }\n    }\n    /**\n     * Change iteration\n     * @param zone\n     * @param numLen\n     * @param iteration\n     */\n    __change(zone, numLen, iteration) {\n        return new Promise(res => {\n            let _this = this;\n            let textEl = zone.el.getElementsByTagName('div')[0];\n            if (iteration < numLen) {\n                textEl.innerText = zone.data.example[iteration];\n                switch (zone.data.type) {\n                    case 'random-position':\n                        this.__setRandomPosition(textEl);\n                        break;\n                }\n                setTimeout(() => {\n                    iteration++;\n                    _this.__change(zone, numLen, iteration);\n                    res();\n                }, zone.data.speed);\n            }\n            else {\n                textEl.innerHTML = `<input type=\"number\" value=\"\"/><button>${_this.btnTextResult}</button>`;\n                textEl.parentElement.style.display = 'flex';\n                textEl.style.top = 'auto';\n                textEl.style.left = 'auto';\n                let btn = textEl.getElementsByTagName('button')[0];\n                let input = textEl.getElementsByTagName('input')[0];\n                btn.onclick = (e) => {\n                    if (!isNaN(parseInt(input.value))) {\n                        this.__sendResult(zone, input.value);\n                    }\n                    else {\n                        e.preventDefault();\n                    }\n                };\n            }\n        });\n    }\n    /**\n     * Set random position\n     * @param el\n     */\n    __setRandomPosition(el) {\n        let parentWidth = el.parentElement.clientWidth, parentHeight = el.parentElement.clientHeight, elWidth = el.clientWidth, elHeight = el.clientHeight, maxLeft = parentWidth - elWidth, maxTop = parentHeight - elHeight, left = this.__getRandomInt(0, maxLeft), top = this.__getRandomInt(0, maxTop);\n        el.style.top = top + 'px';\n        el.style.left = left + 'px';\n    }\n    /**\n     * Get random integer\n     * @param min\n     * @param max\n     */\n    __getRandomInt(min, max) {\n        return Math.floor(Math.random() * (max - min)) + min;\n    }\n    /**\n     * Callback result\n     * @param data\n     * @param value\n     */\n    __sendResult(zone, value) {\n        zone.el.innerHTML = `<div class=\"soroban-simulator__loading\">${this.textLoading}</div>`;\n        let event = new CustomEvent(\"sendResult\", {\n            detail: {\n                zone: zone,\n                value: value\n            },\n            bubbles: true,\n            cancelable: false\n        });\n        this.el.dispatchEvent(event);\n    }\n    /**\n     * Calculate array sum\n     * @param array\n     */\n    arraySum(array) {\n        const reducer = (accumulator, currentValue) => parseInt(accumulator) + parseInt(currentValue);\n        return parseInt(array.reduce(reducer));\n    }\n    /**\n     * Show result\n     * @param detail\n     * @param status\n     */\n    showResult(detail, status) {\n        detail.zone.el.innerHTML = `<div class=\"soroban-simulator__status soroban-simulator__status--${status}\">${detail.value}</div>`;\n    }\n}\n","import { SorobanSimulator as defaultExport } from \"./SorobanSimulator\";\nexport default defaultExport"],"sourceRoot":""}